(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28c14a28"],{"0705":function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{attrs:{id:"back-stage-student-plan"}},[null==t.planInfo||0===t.planInfo.length?n("empty-data"):n("div",{attrs:{id:"student-plan-info"}},[n("table-row-count",{attrs:{count:t.planInfo.length}}),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.planInfo,stripe:""}},[n("el-table-column",{attrs:{prop:"majorId",label:"专业代号",width:"100"}}),n("el-table-column",{attrs:{prop:"majorCode",label:"专业代码"}}),n("el-table-column",{attrs:{prop:"departmentName",label:"学院"}}),n("el-table-column",{attrs:{prop:"majorName",label:"专业名称"}}),n("el-table-column",{attrs:{prop:"comment",label:"备注"}}),n("el-table-column",{attrs:{prop:"period",label:"学制年限"}}),n("el-table-column",{attrs:{prop:"planStudentCount",label:"计划招生"}}),n("el-table-column",{attrs:{prop:"realisticStudentCount",label:"招生数目"}}),1===t.$store.state.status||2===t.$store.state.status?n("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[n("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(n){return t.updataPlan(a.row.majorId)}}},[t._v("修改计划")])]}}],null,!1,4097930305)}):t._e()],1)],1)],1)},l=[],o=(n("d3b7"),n("1bab")),r=n("3b96"),s=n("5b02"),c={name:"StudentPlan",data:function(){return{planInfo:null,loading:null}},methods:{loadData:function(){var t=this;this.setLoading(),Object(o["a"])({url:"major/getMajorPlan"}).then((function(a){"000"===a.code?t.planInfo=a.data:t.$message.error(a.message)})).catch((function(a){t.$message.error("系统错误")})).finally((function(){t.setUnloading()}))},setLoading:function(){this.loading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})},setUnloading:function(){this.loading.close()},updataPlan:function(t){var a=this;this.$prompt("请输入计划人数","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(n){var e=n.value;Object(o["a"])({url:"major/updateMajorPlan",params:{majorId:t,count:e}}).then((function(t){"000"===t.code?(a.$message.success("修改成功"),a.loadData()):a.$message.error(t.message)})).catch((function(t){a.$message.error("系统错误")}))})).catch((function(){}))}},created:function(){this.loadData()},components:{EmptyData:r["a"],TableRowCount:s["a"]}},u=c,i=(n("ed79"),n("2877")),d=Object(i["a"])(u,e,l,!1,null,"d17bab06",null);a["default"]=d.exports},"3b96":function(t,a,n){"use strict";var e=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},l=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"empty-data"},[n("div",{staticClass:"el-icon-box empty-box"}),n("div",{staticClass:"empty-data-text"},[t._v("暂无数据")])])}],o={name:"EmptyData"},r=o,s=(n("bab9"),n("2877")),c=Object(s["a"])(r,e,l,!1,null,"cec065f2",null);a["a"]=c.exports},4758:function(t,a,n){"use strict";var e=n("abeb"),l=n.n(e);l.a},"4d03":function(t,a,n){},"5b02":function(t,a,n){"use strict";var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"table-row-count-wrap clearfix"},[n("div",{staticClass:"table-row-count"},[t._v(" 共"+t._s(t.count)+"条数据 ")])])},l=[],o={name:"TableRowCount",props:["count"]},r=o,s=(n("4758"),n("2877")),c=Object(s["a"])(r,e,l,!1,null,"732fcddd",null);a["a"]=c.exports},abeb:function(t,a,n){},bab9:function(t,a,n){"use strict";var e=n("fa03"),l=n.n(e);l.a},ed79:function(t,a,n){"use strict";var e=n("4d03"),l=n.n(e);l.a},fa03:function(t,a,n){}}]);
//# sourceMappingURL=chunk-28c14a28.e19888ce.js.map