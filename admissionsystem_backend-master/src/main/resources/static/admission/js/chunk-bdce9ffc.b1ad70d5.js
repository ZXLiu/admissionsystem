(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bdce9ffc"],{"36e2":function(t,e,a){},"3b96":function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"empty-data"},[a("div",{staticClass:"el-icon-box empty-box"}),a("div",{staticClass:"empty-data-text"},[t._v("暂无数据")])])}],r={name:"EmptyData"},s=r,o=(a("bab9"),a("2877")),c=Object(o["a"])(s,l,n,!1,null,"cec065f2",null);e["a"]=c.exports},4758:function(t,e,a){"use strict";var l=a("abeb"),n=a.n(l);n.a},"5b02":function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-row-count-wrap clearfix"},[a("div",{staticClass:"table-row-count"},[t._v(" 共"+t._s(t.count)+"条数据 ")])])},n=[],r={name:"TableRowCount",props:["count"]},s=r,o=(a("4758"),a("2877")),c=Object(o["a"])(s,l,n,!1,null,"732fcddd",null);e["a"]=c.exports},abeb:function(t,e,a){},bab9:function(t,e,a){"use strict";var l=a("fa03"),n=a.n(l);n.a},dd92:function(t,e,a){"use strict";var l=a("36e2"),n=a.n(l);n.a},fa03:function(t,e,a){},fcb0:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"back-stage-result"}},[a("div",{staticClass:"clearfix result-query-option"},[a("div",{staticClass:"dep-selector"},[a("el-select",{attrs:{clearable:"",placeholder:"选择学院"},model:{value:t.selectedDepId,callback:function(e){t.selectedDepId=e},expression:"selectedDepId"}},t._l(t.depList,(function(t){return a("el-option",{key:t.departmentId,attrs:{label:t.departmentName,value:t.departmentId}})})),1)],1),a("div",{staticClass:"major-selector"},[a("el-select",{attrs:{clearable:"",placeholder:"选择专业"},model:{value:t.selectedMajorId,callback:function(e){t.selectedMajorId=e},expression:"selectedMajorId"}},t._l(t.majorList,(function(t){return a("el-option",{key:t.majorId,attrs:{label:t.majorName,value:t.majorId}})})),1)],1),a("div",{staticClass:"rank-select-slider"},[a("el-slider",{attrs:{"format-tooltip":t.formatTooltip},model:{value:t.rankRaw,callback:function(e){t.rankRaw=e},expression:"rankRaw"}})],1),a("div",{staticClass:"result-query-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.loadResult}},[t._v("查询")])],1)]),0===t.resultList.length?a("empty-data"):a("div",[a("table-row-count",{attrs:{count:t.total}}),a("div",{attrs:{id:"back-stage-result-table"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.resultList,stripe:""}},[a("el-table-column",{attrs:{prop:"candidate",label:"准考证号",width:"110"}}),a("el-table-column",{attrs:{prop:"studentName",label:"姓名"}}),a("el-table-column",{attrs:{prop:"totalGrade",label:"总分"}}),a("el-table-column",{attrs:{prop:"rank",label:"排名"}}),a("el-table-column",{attrs:{prop:"province",label:"省份"}}),a("el-table-column",{attrs:{prop:"city",label:"城市"}}),a("el-table-column",{attrs:{prop:"departmentName",label:"学院"}}),a("el-table-column",{attrs:{prop:"majorName",label:"专业"}}),a("el-table-column",{attrs:{prop:"acceptedType",label:"录取类型",formatter:t.type2Str}})],1)],1),a("div",{staticClass:"page-bar"},[a("el-pagination",{attrs:{layout:"prev, pager, next, jumper","page-size":50,"current-page":t.currentPage,"hide-on-single-page":"",total:t.total},on:{"current-change":t.changePage,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)],1)],1)},n=[],r=(a("d3b7"),a("1bab")),s=a("3b96"),o=a("5b02"),c={name:"Result",data:function(){return{resultList:[],currentPage:1,total:0,rankRaw:100,selectedDepId:null,selectedMajorId:null,depList:[],majorList:[],loading:null}},watch:{selectedDepId:function(){this.selectedMajorId=null,this.loadMajors()}},methods:{loadResult:function(){var t=this;this.setLoading(),Object(r["a"])({url:"student/getResult",params:{departmentId:null==this.selectedDepId||""===this.selectedDepId?null:this.selectedDepId,majorId:null==this.selectedMajorId||""===this.selectedMajorId?null:this.selectedMajorId,rank:100===this.rankRaw?null:500*this.rankRaw+1e4,currentPage:this.currentPage}}).then((function(e){t.resultList=[],"000"===e.code?(t.resultList=e.data.list,t.total=e.data.total):t.$message.error(e.message)})).catch((function(e){t.$message.error("系统错误")})).finally((function(){t.setUnloading()}))},setLoading:function(){this.loading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})},setUnloading:function(){this.loading.close()},type2Str:function(t,e,a){switch(a){case 1:return"第一志愿";case 2:return"第二志愿";case 3:return"第三志愿";case 4:return"第四志愿";case 5:return"第五志愿";case 6:return"第六志愿";case 7:return"调剂";default:return null}},changePage:function(){this.loadResult()},formatTooltip:function(t){return 500*t+1e4+"名以前"},loadDepartments:function(){var t=this;Object(r["a"])({url:"department/getDepartments"}).then((function(e){"000"===e.code&&(t.depList=e.data)}))},loadMajors:function(){var t=this,e=null==this.selectedDepId?"major/getMajors":"major/getMajorsByDepartment";Object(r["a"])({url:e,params:{departmentId:this.selectedDepId}}).then((function(e){"000"===e.code&&(t.majorList=e.data)}))}},components:{EmptyData:s["a"],TableRowCount:o["a"]},created:function(){this.loadResult(),this.loadDepartments(),this.loadMajors()}},i=c,u=(a("dd92"),a("2877")),d=Object(u["a"])(i,l,n,!1,null,"60d120b2",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-bdce9ffc.b1ad70d5.js.map